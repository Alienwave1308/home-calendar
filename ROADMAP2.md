# Roadmap 2: –ö–∞–ª–µ–Ω–¥–∞—Ä—å –º–∞—Å—Ç–µ—Ä–∞ (Telegram Mini App)

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤. –ú–∞—Å—Ç–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É ‚Üí –∫–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Telegram Mini App ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç —É—Å–ª—É–≥—É –∏ —Å–ª–æ—Ç ‚Üí –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Google Calendar –∏ Apple Calendar.

> **–§–æ–∫—É—Å —Å–º–µ–Ω—ë–Ω:** —Å–µ–º–µ–π–Ω—ã–π —Ç–∞—Å–∫-—Ç—Ä–µ–∫–µ—Ä ‚Üí —Å–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤.
> –°—Ç–∞—Ä—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (—Å–µ–º—å–∏, –∑–∞–¥–∞—á–∏, –∫–∞–Ω–±–∞–Ω) –æ—Å—Ç–∞—ë—Ç—Å—è, –Ω–æ –Ω–µ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è.

## –ù–æ–≤—ã–π —Ç—Ä–µ–∫ (–ø–æ—Å–ª–µ TG-only): –§–∞–∑—ã 7-12

### –í–∞–∂–Ω–æ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥-–¥–µ–ø–ª–æ–µ–º
- –ü–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –ø—Ä–æ–¥-—Ä–µ–ª–∏–∑–æ–º –Ω–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ—á–∏—Å—Ç–∫—É –ë–î –Ω–∞ VDS.
- –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –ø–µ—Ä–≤–∞—è Telegram-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–∞–∫–∫–∞—É–Ω—Ç –∂–µ–Ω—ã) –¥–æ–ª–∂–Ω–∞ —Å–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –º–∞—Å—Ç–µ—Ä-–∞–∫–∫–∞—É–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### –§–∞–∑–∞ 7: –ï–¥–∏–Ω—ã–π –≤—Ö–æ–¥ –∏ —Ä–æ–ª–∏ (Telegram-first)
**–¶–µ–ª—å:** —É–±—Ä–∞—Ç—å —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä —Ä–æ–ª–µ–π –∏ –≤–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–¥–µ—Ç–µ–∫—Ç –ø–æ `telegram user_id`.
- –†–æ–≤–Ω–æ –æ–¥–∏–Ω –º–∞—Å—Ç–µ—Ä: `MASTER_TELEGRAM_USER_ID` (env), –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –∫–ª–∏–µ–Ω—Ç—ã.
- `/api/auth/telegram` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `role`, `booking_slug`, `master_id`.
- –ó–∞–ø—Ä–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ `/api/master/*` –¥–ª—è –Ω–µ-–º–∞—Å—Ç–µ—Ä–∞.
- –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏ –≤—Ö–æ–¥–µ —Å—Ä–∞–∑—É —Ä–æ—É—Ç–∏—Ç:
  - –º–∞—Å—Ç–µ—Ä ‚Üí `/master`
  - –∫–ª–∏–µ–Ω—Ç ‚Üí `/book/:slug`
- –¢–µ—Å—Ç—ã: Jest (auth role, master guard), e2e smoke –Ω–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã.

### –§–∞–∑–∞ 8: UI/UX TG Mini App (–∞–¥–∞–ø—Ç–∏–≤ + safe area + –Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω)
**–¶–µ–ª—å:** –ø—Ä–∏–≤–µ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ –º–æ–±–∏–ª—å–Ω–æ–º—É TG-—Ñ–æ—Ä–º–∞—Ç—É –∏ –Ω–æ–≤–æ–π –ø–∞–ª–∏—Ç—Ä–µ.
- –£–±—Ä–∞—Ç—å –±–µ–ª–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—É—é –≥–∞–º–º—É, –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∑–µ–ª—ë–Ω–æ-–º—è—Ç–Ω—É—é —Ç–µ–º—É.
- –í–≤–µ—Å—Ç–∏ –µ–¥–∏–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–Ω–æ–ø–∫–∏, –ø–æ–ª—è, –∫–∞—Ä—Ç–æ—á–∫–∏, –º–æ–¥–∞–ª–∫–∏).
- –£—á–µ—Å—Ç—å `safe-area-inset-*`, –≤—ã—Å–æ—Ç—É viewport Telegram, –Ω–∏–∂–Ω—é—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é –±–µ–∑ –Ω–∞–ª–æ–∂–µ–Ω–∏–π.
- –£–±—Ä–∞—Ç—å –ø–æ–ª–æ–º–∫–∏ –≤–µ—Ä—Å—Ç–∫–∏ (–∫–∞–Ω–±–∞–Ω, —Ñ–æ—Ä–º—ã, —Ñ—É—Ç–µ—Ä, –∫–Ω–æ–ø–∫–∏).
- –¢–µ—Å—Ç—ã: Cypress mobile snapshots + –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª—é—á–µ–≤—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤.

### –§–∞–∑–∞ 9: –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–Ω—Ç—É—Ä –∑–∞–ø–∏—Å–∏
**–¶–µ–ª—å:** –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ñ–ª–æ—É –∫–ª–∏–µ–Ω—Ç–∞ –≤–Ω—É—Ç—Ä–∏ Mini App.
- –ü—É–±–ª–∏—á–Ω—ã–µ API:
  - `GET /api/public/master/:slug`
  - `GET /api/public/master/:slug/slots`
  - `POST /api/public/master/:slug/book`
- –≠–∫—Ä–∞–Ω –∫–ª–∏–µ–Ω—Ç–∞: –≤—ã–±–æ—Ä —É—Å–ª—É–≥–∏/—Å–ª–æ—Ç–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.
- –†–∞–∑–¥–µ–ª ¬´–ú–æ–∏ –∑–∞–ø–∏—Å–∏¬ª: —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (–∏—Å—Ç–æ—Ä–∏—è + –±—É–¥—É—â–∏–µ).
- –¢–µ—Å—Ç—ã: Jest (public booking), Cypress (end-to-end booking flow).

### –§–∞–∑–∞ 10: –≠–∫—Å–ø–æ—Ä—Ç –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–∏
**–¶–µ–ª—å:** –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ –¥–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç Google/Apple.
- Google: —Å—Å—ã–ª–∫–∞-–∏–Ω—Ç–µ–Ω—Ç –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è.
- Apple: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ `.ics`.
- –°–æ–±—ã—Ç–∏–µ –≤–∫–ª—é—á–∞–µ—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ, –¥–∞—Ç—É/–≤—Ä–µ–º—è, TZ –º–∞—Å—Ç–µ—Ä–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫–ª–∏–µ–Ω—Ç–∞.
- –¢–µ—Å—Ç—ã: unit –Ω–∞ builder —Å—Å—ã–ª–æ–∫ –∏ ICS, e2e smoke –∫–Ω–æ–ø–æ–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞.

### –§–∞–∑–∞ 11: –ú–∞—Å—Ç–µ—Ä—Å–∫–∏–π –∫–æ–Ω—Ç—É—Ä –∏ –∫–ª–∏–µ–Ω—Ç—ã
**–¶–µ–ª—å:** –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –º–∞—Å—Ç–µ—Ä–∞ –∏ —É—á–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑—ã.
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –º–∞—Å—Ç–µ—Ä–∞: –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π, —Ä—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–æ—Ç–º–µ–Ω–∞.
- –ü–æ–ª—è –∑–∞–ø–∏—Å–∏: –∫–ª–∏–µ–Ω—Ç, –¥–∞—Ç–∞/–≤—Ä–µ–º—è, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, —Å—Ç–∞—Ç—É—Å.
- –†–∞–∑–¥–µ–ª ¬´–ö–ª–∏–µ–Ω—Ç—ã¬ª (–≤–º–µ—Å—Ç–æ ¬´–°–µ–º—å—è¬ª):
  - —Å–ø–∏—Å–æ–∫ Telegram-–∫–ª–∏–µ–Ω—Ç–æ–≤, –∫—Ç–æ –∫–æ–≥–¥–∞-–ª–∏–±–æ –∑–∞–ø–∏—Å—ã–≤–∞–ª—Å—è;
  - telegram_id, –∏–º—è/–Ω–∏–∫, –∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å–µ–π.
- –¢–µ—Å—Ç—ã: Jest (master bookings CRUD, clients list), Cypress (master flow).

### –§–∞–∑–∞ 12: –ó–∞—á–∏—Å—Ç–∫–∞ legacy + —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
**–¶–µ–ª—å:** —É–±—Ä–∞—Ç—å ¬´—Å–µ–º–µ–π–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å¬ª –∏–∑ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ –∑–∞–∫—Ä—ã—Ç—å –Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.
- –£–¥–∞–ª–µ–Ω–∏–µ/—Å–∫—Ä—ã—Ç–∏–µ family/tasks —Ç–µ—Ä–º–∏–Ω–æ–≤, –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏–∑ Mini App.
- –ï–¥–∏–Ω–∞—è –±–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è: –º–∞—Å—Ç–µ—Ä, –∫–ª–∏–µ–Ω—Ç, –∑–∞–ø–∏—Å—å, —É—Å–ª—É–≥–∏.
- –ü—Ä–æ–≤–µ—Ä–∫–∞ TZ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ç–∞–π–º–∑–æ–Ω–∞ –º–∞—Å—Ç–µ—Ä–∞), –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ VDS.
- –ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–≥–æ–Ω—ã Mini App: iOS/Android/Desktop.
- –¢–µ—Å—Ç—ã: –ø–æ–ª–Ω—ã–π regression CI (lint + backend + e2e + coverage).

## –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞: Claude Code + Codex

–§–∞–∑—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤ **–≤–æ–ª–Ω—ã**. –í–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π –≤–æ–ª–Ω—ã –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ —Ä–∞–±–æ—Ç–∞—é—Ç **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**.
–ú–µ–∂–¥—É –≤–æ–ª–Ω–∞–º–∏ ‚Äî —Ç–æ—á–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (merge –≤ dev, pull).

---

## –§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ ‚Äî –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —Ä–∞–∑–æ–º
**–í–µ—Ç–∫–∞:** `feature/booking-migrations`
**–ö—Ç–æ:** Claude Code (–æ–¥–Ω–∞ –≤–µ—Ç–∫–∞, –±—ã—Å—Ç—Ä–æ)

–°–æ–∑–¥–∞—Ç—å **–≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏** –¥–ª—è R1 –≤ –æ–¥–Ω–æ–º –∫–æ–º–º–∏—Ç–µ, —á—Ç–æ–±—ã –æ–±–∞ –ø–æ—Ç–æ–∫–∞ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å –≥–æ—Ç–æ–≤–æ–π —Å—Ö–µ–º–æ–π:

```sql
-- 018_masters.sql
masters (id, user_id, display_name, timezone, booking_slug, cancel_policy_hours, created_at)

-- 019_services.sql
services (id, master_id, name, duration_minutes, price, description,
          buffer_before_minutes, buffer_after_minutes, is_active, created_at)

-- 020_availability.sql
availability_rules (id, master_id, day_of_week, start_time, end_time,
                    slot_granularity_minutes, created_at)
availability_exclusions (id, master_id, date, reason, created_at)

-- 021_bookings.sql
bookings (id, master_id, client_id, service_id, start_at, end_at,
          status, source, client_note, master_note, created_at, updated_at)
-- status: pending, confirmed, canceled, completed, no_show
-- source: telegram_link, admin_created
-- –ò–Ω–¥–µ–∫—Å: (master_id, start_at, end_at) + EXCLUDE –¥–ª—è –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π

-- 022_master_blocks.sql
master_blocks (id, master_id, start_at, end_at, title, created_at)

-- 023_booking_reminders.sql
booking_reminders (id, booking_id, remind_at, sent BOOLEAN DEFAULT false, created_at)
master_settings (master_id PRIMARY KEY, reminder_hours JSONB DEFAULT '[24,2]',
                 quiet_hours_start TIME, quiet_hours_end TIME)
```

**–¢–µ—Å—Ç—ã:** ‚Äî
**PR ‚Üí merge –≤ dev ‚Üí –æ–±–∞ –ø–æ—Ç–æ–∫–∞ –Ω–∞—á–∏–Ω–∞—é—Ç —Ä–∞–±–æ—Ç—É**

---

## –í–æ–ª–Ω–∞ 1: –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã

### üîµ Claude Code: –ú–∞—Å—Ç–µ—Ä ‚Äî –ø—Ä–æ—Ñ–∏–ª—å, —É—Å–ª—É–≥–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
**–í–µ—Ç–∫–∞:** `feature/master-api`

**Backend:**
- `POST /api/master/setup` ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –º–∞—Å—Ç–µ—Ä–∞ (booking_slug —á–µ—Ä–µ–∑ nanoid)
- `GET /api/master/profile` ‚Äî —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
- `PUT /api/master/profile` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å (display_name, timezone, cancel_policy_hours)
- CRUD `/api/master/services` ‚Äî —É—Å–ª—É–≥–∏ (create, list, update, deactivate)
- CRUD `/api/master/availability` ‚Äî –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
- CRUD `/api/master/availability/exclusions` ‚Äî –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–æ—Ç–ø—É—Å–∫, –≤—ã—Ö–æ–¥–Ω—ã–µ)
- `GET /api/master/availability/preview?service_id&date_from&date_to` ‚Äî –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ª–æ—Ç–æ–≤

**–õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª–æ—Ç–æ–≤ (–º–æ–¥—É–ª—å `slots.js`):**
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ—Ç—ã –∏–∑ AvailabilityRule
- –£—á–∏—Ç—ã–≤–∞—Ç—å duration + buffer_before + buffer_after
- –ò—Å–∫–ª—é—á–∞—Ç—å exclusions
- –ò—Å–∫–ª—é—á–∞—Ç—å –∑–∞–Ω—è—Ç—ã–µ bookings –∏ master_blocks
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `generateSlots()` –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–¢–µ—Å—Ç—ã:** Jest: CRUD —É—Å–ª—É–≥, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤, –±—É—Ñ–µ—Ä—ã, –∏—Å–∫–ª—é—á–µ–Ω–∏—è

---

### üü† Codex: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π + –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π API
**–í–µ—Ç–∫–∞:** `feature/booking-api`

**Backend:**
- –ü—É–±–ª–∏—á–Ω—ã–π API (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ slug):
  - `GET /api/public/master/:slug` ‚Äî –ø—Ä–æ—Ñ–∏–ª—å –º–∞—Å—Ç–µ—Ä–∞ + –∞–∫—Ç–∏–≤–Ω—ã–µ —É—Å–ª—É–≥–∏
  - `GET /api/public/master/:slug/slots?service_id&date_from&date_to` ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã
  - `POST /api/public/bookings` ‚Äî —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–∞—Ç–æ–º–∞—Ä–Ω–æ!)
- API –∫–ª–∏–µ–Ω—Ç–∞ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ JWT):
  - `GET /api/client/bookings` ‚Äî –º–æ–∏ –∑–∞–ø–∏—Å–∏
  - `GET /api/client/bookings/:id` ‚Äî –¥–µ—Ç–∞–ª–∏

**–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
```sql
BEGIN;
SELECT 1 FROM bookings
  WHERE master_id = $1
    AND status NOT IN ('canceled')
    AND tsrange(start_at, end_at, '()') && tsrange($2, $3, '()')
  FOR UPDATE;
-- –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ ‚Üí ROLLBACK + 409
INSERT INTO bookings (...) VALUES (...);
COMMIT;
```

**–¢–µ—Å—Ç—ã:** Jest: —Å–æ–∑–¥–∞–Ω–∏–µ, –∫–æ–Ω—Ñ–ª–∏–∫—Ç 409, —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è

---

**‚è∏ –¢–æ—á–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: merge –æ–±–µ –≤–µ—Ç–∫–∏ –≤ dev**

---

## –í–æ–ª–Ω–∞ 2: API –º–∞—Å—Ç–µ—Ä–∞ + Deep Link

### üîµ Claude Code: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏ –º–∞—Å—Ç–µ—Ä–∞
**–í–µ—Ç–∫–∞:** `feature/master-bookings`

**Backend:**
- `GET /api/master/bookings?status&date_from&date_to` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `GET /api/master/calendar?date_from&date_to` ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä—å (–∑–∞–ø–∏—Å–∏ + –±–ª–æ–∫–∏)
- `PATCH /api/master/bookings/:id` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å / –æ—Ç–º–µ–Ω–∏—Ç—å / –∑–∞–≤–µ—Ä—à–∏—Ç—å / no_show / –∑–∞–º–µ—Ç–∫–∏
- `POST /api/master/bookings` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤—Ä—É—á–Ω—É—é (source: admin_created)
- CRUD `/api/master/blocks` ‚Äî –ª–∏—á–Ω—ã–µ –±–ª–æ–∫–∏ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏

**–¢–µ—Å—Ç—ã:** Jest: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–æ–≤, —Ä—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ, –±–ª–æ–∫–∏

---

### üü† Codex: Deep Link + Share + Telegram Bot
**–í–µ—Ç–∫–∞:** `feature/booking-link`

**Backend:**
- `GET /api/master/share-link` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É `https://t.me/<bot>?startapp=book_<slug>`
- Telegram Bot webhook: –æ–±—Ä–∞–±–æ—Ç–∫–∞ `/start book_<slug>`
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ Mini App –∫–ª–∏–µ–Ω—Ç—É

**Frontend:**
- –ü–∞—Ä—Å–∏–Ω–≥ `window.Telegram.WebApp.initDataUnsafe.start_param`
- –†–æ—É—Ç–∏–Ω–≥: `book_<slug>` ‚Üí —ç–∫—Ä–∞–Ω –∑–∞–ø–∏—Å–∏ –∫ –º–∞—Å—Ç–µ—Ä—É

**–¢–µ—Å—Ç—ã:** Jest: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏, –ø–∞—Ä—Å–∏–Ω–≥ start_param

---

**‚è∏ –¢–æ—á–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: merge –≤ dev**

---

## –í–æ–ª–Ω–∞ 3: –§—Ä–æ–Ω—Ç–µ–Ω–¥

### üîµ Claude Code: UI –º–∞—Å—Ç–µ—Ä–∞
**–í–µ—Ç–∫–∞:** `feature/master-ui`

**Frontend:**
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –º–∞—Å—Ç–µ—Ä–∞: –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü, –∑–∞–ø–∏—Å–∏ –ø–æ —Ü–≤–µ—Ç–∞–º —Å—Ç–∞—Ç—É—Å–∞, –±–ª–æ–∫–∏
- –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π: —Å–µ–≥–æ–¥–Ω—è / –∑–∞–≤—Ç—Ä–∞ / –Ω–µ–¥–µ–ª—è, —Ñ–∏–ª—å—Ç—Ä—ã
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏: —Å–æ–∑–¥–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –≤–∫–ª/–≤—ã–∫–ª
- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏/—á–∞—Å—ã, –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –±—É—Ñ–µ—Ä—ã
- –ü—Ä–æ—Ñ–∏–ª—å –º–∞—Å—Ç–µ—Ä–∞: –∏–º—è, —Ç–∞–π–º–∑–æ–Ω–∞, –ø–æ–ª–∏—Ç–∏–∫–∞ –æ—Ç–º–µ–Ω—ã
- –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π¬ª

**CSS:**
- –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è (Telegram Mini App)
- –¶–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤: pending=–∂—ë–ª—Ç—ã–π, confirmed=–∑–µ–ª—ë–Ω—ã–π, canceled=–∫—Ä–∞—Å–Ω—ã–π

**–¢–µ—Å—Ç—ã:** Cypress: —Å–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π

---

### üü† Codex: UI –∫–ª–∏–µ–Ω—Ç–∞
**–í–µ—Ç–∫–∞:** `feature/client-ui`

**Frontend:**
- –≠–∫—Ä–∞–Ω –º–∞—Å—Ç–µ—Ä–∞: –∏–º—è, —É—Å–ª—É–≥–∏, –ø–æ–ª–∏—Ç–∏–∫–∞ –æ—Ç–º–µ–Ω—ã
- –í—ã–±–æ—Ä —É—Å–ª—É–≥–∏ ‚Üí –≤—ã–±–æ—Ä –¥–∞—Ç—ã ‚Üí –≤—ã–±–æ—Ä —Å–ª–æ—Ç–∞ ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- ¬´–ú–æ–∏ –∑–∞–ø–∏—Å–∏¬ª: —Å–ø–∏—Å–æ–∫, —Å—Ç–∞—Ç—É—Å—ã, –¥–µ—Ç–∞–ª–∏
- –ü—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞: –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**CSS:**
- Mobile-first (Mini App = —Ç–µ–ª–µ—Ñ–æ–Ω)
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —à–∞–≥–∞–º–∏

**–¢–µ—Å—Ç—ã:** Cypress: –ø–æ–ª–Ω—ã–π —Ñ–ª–æ—É –∑–∞–ø–∏—Å–∏

---

**‚è∏ –¢–æ—á–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: merge –≤ dev ‚Üí R1 –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é**

---

## –í–æ–ª–Ω–∞ 4: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏ (R2)

### üîµ Claude Code: –û—Ç–º–µ–Ω–∞, –ø–µ—Ä–µ–Ω–æ—Å, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
**–í–µ—Ç–∫–∞:** `feature/booking-management`

**Backend:**
- `PATCH /api/client/bookings/:id/cancel` ‚Äî –æ—Ç–º–µ–Ω–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ cancel_policy_hours)
- `PATCH /api/client/bookings/:id/reschedule` ‚Äî –ø–µ—Ä–µ–Ω–æ—Å –Ω–∞ –¥—Ä—É–≥–æ–π —Å–ª–æ—Ç (–∞—Ç–æ–º–∞—Ä–Ω–æ)
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: cron-–ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ `booking_reminders`, –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Telegram Bot
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤: –∑–∞ 24—á, –∑–∞ 2—á (master_settings.reminder_hours)
- –¢–∏—Ö–∏–µ —á–∞—Å—ã: –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ quiet_hours

**Frontend:**
- –ö–Ω–æ–ø–∫–∏ ¬´–û—Ç–º–µ–Ω–∏—Ç—å¬ª / ¬´–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏¬ª —É –∫–ª–∏–µ–Ω—Ç–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π —É –º–∞—Å—Ç–µ—Ä–∞

**–¢–µ—Å—Ç—ã:** Jest: –æ—Ç–º–µ–Ω–∞ –≤ —Ä–∞–º–∫–∞—Ö/–≤–Ω–µ –ø–æ–ª–∏—Ç–∏–∫–∏, –ø–µ—Ä–µ–Ω–æ—Å, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, —Ç–∏—Ö–∏–µ —á–∞—Å—ã

---

### üü† Codex: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è + –∞—É–¥–∏—Ç
**–í–µ—Ç–∫–∞:** `feature/booking-notifications`

**Backend:**
- Telegram Bot API —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
  - –ú–∞—Å—Ç–µ—Ä—É: –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å, –æ—Ç–º–µ–Ω–∞, –ø–µ—Ä–µ–Ω–æ—Å
  - –ö–ª–∏–µ–Ω—Ç—É: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
  - –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π (—É—Å–ª—É–≥–∞, –¥–∞—Ç–∞, –≤—Ä–µ–º—è, –∏–º—è)
- –ê—É–¥–∏—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π:
  - –ó–∞–ø–∏—Å—å –≤ audit_events: —Å–æ–∑–¥–∞–Ω–∏–µ, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –æ—Ç–º–µ–Ω–∞, –ø–µ—Ä–µ–Ω–æ—Å, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
  - `GET /api/master/bookings/:id/history` ‚Äî –∏—Å—Ç–æ—Ä–∏—è
  - entity_type: `booking`

**–¢–µ—Å—Ç—ã:** Jest: —à–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π, —Ç—Ä–∏–≥–≥–µ—Ä—ã, –∞—É–¥–∏—Ç —Å–æ–±—ã—Ç–∏–π

---

**‚è∏ –¢–æ—á–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: merge –≤ dev ‚Üí R2 –≥–æ—Ç–æ–≤**

---

## –í–æ–ª–Ω–∞ 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (R3)

### üîµ Claude Code: Google Calendar
**–í–µ—Ç–∫–∞:** `feature/google-calendar`

**–ú–∏–≥—Ä–∞—Ü–∏—è –ë–î:**
```sql
-- 024_calendar_sync.sql
calendar_sync_bindings (id, user_id, provider, access_token, refresh_token,
                        token_expire_at, scope, external_calendar_id,
                        sync_mode, last_sync_at, created_at)
external_event_mappings (id, booking_id, provider, external_event_id,
                         last_pushed_hash, created_at)
```

**Backend:**
- OAuth2 flow: connect ‚Üí callback ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- Push: –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–∏–∑–º–µ–Ω–µ–Ω–∏–∏/–æ—Ç–º–µ–Ω–µ booking ‚Üí event –≤ Google Calendar
- Pull busy time: –∏–º–ø–æ—Ä—Ç –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ ‚Üí –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–ª–æ—Ç–æ–≤
- sync_mode: `push` (default), `hybrid` (push + pull busy)
- Refresh token –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ last_pushed_hash

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** npm: `googleapis`
**–¢–µ—Å—Ç—ã:** Jest: push, update, busy time, –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

---

### üü† Codex: Apple Calendar + Sync resolver
**–í–µ—Ç–∫–∞:** `feature/apple-ics-sync`

**–ú–∏–≥—Ä–∞—Ü–∏—è –ë–î:**
```sql
-- 025_sync_log.sql
sync_log (id, binding_id, action, status, details JSONB, created_at)
sync_conflicts (id, booking_id, provider, conflict_type, resolved BOOLEAN, created_at)
```

**Backend:**
- ICS-—Ñ–∏–¥: `GET /api/master/calendar.ics` + `GET /api/client/calendar.ics`
- –§–æ—Ä–º–∞—Ç iCalendar (VCALENDAR/VEVENT), –ø–æ–¥–ø–∏—Å–∫–∞ –ø–æ URL
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç-—Ä–µ–∑–æ–ª–≤–µ—Ä: –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤ Google —Å–æ–±—ã—Ç–∏–π
- `GET /api/master/sync/conflicts` ‚Äî —Å–ø–∏—Å–æ–∫
- `POST /api/master/sync/conflicts/:id/resolve`
- –ñ—É—Ä–Ω–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** npm: `ical-generator`
**–¢–µ—Å—Ç—ã:** Jest: ICS —Ñ–æ—Ä–º–∞—Ç, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, —Ä–µ–∑–æ–ª–≤–∏–Ω–≥

---

**‚è∏ –¢–æ—á–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: merge –≤ dev ‚Üí R3 –≥–æ—Ç–æ–≤**

---

## –í–æ–ª–Ω–∞ 6: –§–∏–Ω–∞–ª

### üîµ Claude Code: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ UI
**–í–µ—Ç–∫–∞:** `feature/booking-polish-ui`

- –ü—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–∞—Ö
- Loading-—Å–∫–µ–ª–µ—Ç–æ–Ω—ã –¥–ª—è —Å–ª–æ—Ç–æ–≤ –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏
- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è Telegram Mini App

---

### üü† Codex: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–í–µ—Ç–∫–∞:** `feature/booking-optimize`

- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–æ–≤ (–∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è/booking)
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ bookings (master_id + start_at)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CLAUDE.md, README
- Cleanup: —É–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ–º–µ–π–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏–∑ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –í–æ–ª–Ω–∞ | Claude Code üîµ | Codex üü† | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å |
|-------|----------------|----------|-------------|
| **0** | –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ | ‚Äî | ‚Äî |
| **1** | –ú–∞—Å—Ç–µ—Ä API (–ø—Ä–æ—Ñ–∏–ª—å, —É—Å–ª—É–≥–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —Å–ª–æ—Ç—ã) | Booking API (–ø—É–±–ª–∏—á–Ω—ã–π, –∫–ª–∏–µ–Ω—Ç, –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å) | –ü–æ—Å–ª–µ –≤–æ–ª–Ω—ã 0 |
| **2** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏ –º–∞—Å—Ç–µ—Ä–∞ + –±–ª–æ–∫–∏ | Deep Link + Telegram Bot | –ü–æ—Å–ª–µ –≤–æ–ª–Ω—ã 1 |
| **3** | UI –º–∞—Å—Ç–µ—Ä–∞ | UI –∫–ª–∏–µ–Ω—Ç–∞ | –ü–æ—Å–ª–µ –≤–æ–ª–Ω—ã 2 |
| **4** | –û—Ç–º–µ–Ω–∞/–ø–µ—Ä–µ–Ω–æ—Å + –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è Telegram + –∞—É–¥–∏—Ç | –ü–æ—Å–ª–µ –≤–æ–ª–Ω—ã 3 |
| **5** | Google Calendar (OAuth + push + busy) | Apple ICS + sync resolver | –ü–æ—Å–ª–µ –≤–æ–ª–Ω—ã 4 |
| **6** | –ü–æ–ª–∏—Ä–æ–≤–∫–∞ UI | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è + docs | –ü–æ—Å–ª–µ –≤–æ–ª–Ω—ã 5 |

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–ª–∏–∑–∞–º

| –†–µ–ª–∏–∑ | –í–æ–ª–Ω—ã | –°—É—Ç—å |
|-------|-------|------|
| **R1** | 0 + 1 + 2 + 3 | –ë–∞–∑–æ–≤–∞—è –∑–∞–ø–∏—Å—å: —É—Å–ª—É–≥–∏, —Å–ª–æ—Ç—ã, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, UI, deep link |
| **R2** | 4 | –û—Ç–º–µ–Ω–∞/–ø–µ—Ä–µ–Ω–æ—Å, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∞—É–¥–∏—Ç |
| **R3** | 5 | Google Calendar, Apple ICS, sync resolver |
| **Final** | 6 | –ü–æ–ª–∏—Ä–æ–≤–∫–∞, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, cleanup |

## Workflow

1. Claude Code –¥–µ–ª–∞–µ—Ç –≤–æ–ª–Ω—É 0 (–º–∏–≥—Ä–∞—Ü–∏–∏) ‚Üí merge –≤ dev
2. –û–±–∞ —Å—Ç–∞—Ä—Ç—É—é—Ç —Å–≤–æ–∏ –≤–µ—Ç–∫–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≤–æ–ª–Ω—ã ‚Üí –æ–±–∞ merge –≤ dev ‚Üí pull ‚Üí —Å—Ç–∞—Ä—Ç —Å–ª–µ–¥—É—é—â–µ–π –≤–æ–ª–Ω—ã
4. –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–µ–ª–∏–∑–∞: PR –∏–∑ dev ‚Üí main ‚Üí deploy

## –ü—Ä–∞–≤–∏–ª–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã

1. **–ù–µ —Ç—Ä–æ–≥–∞—Ç—å —á—É–∂–∏–µ —Ñ–∞–π–ª—ã.** –ö–∞–∂–¥—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤–æ–∏—Ö —Ñ–∞–π–ª–∞—Ö —Ä–æ—É—Ç–æ–≤/—Ç–µ—Å—Ç–æ–≤
2. **server.js** ‚Äî –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ —Ä–æ—É—Ç—ã –≤ –∫–æ–Ω–µ—Ü, –Ω–µ –º–µ–Ω—è—Ç—å —á—É–∂–∏–µ —Å—Ç—Ä–æ–∫–∏
3. **–ú–∏–≥—Ä–∞—Ü–∏–∏** ‚Äî –≤—Å–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –≤–æ–ª–Ω–µ 0, –Ω–æ–º–µ—Ä–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã –∑–∞—Ä–∞–Ω–µ–µ
4. **–û–±—â–∏–π –º–æ–¥—É–ª—å `slots.js`** ‚Äî —Å–æ–∑–¥–∞—ë—Ç Claude Code –≤ –≤–æ–ª–Ω–µ 1, Codex –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–∫ –∏–º–ø–æ—Ä—Ç
5. –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö merge ‚Äî —Ä–µ—à–∞–µ—Ç —Ç–æ—Ç, –∫—Ç–æ merge-–∏—Ç –≤—Ç–æ—Ä—ã–º
